function init(e,o){view.bounds.height=e,view.bounds.width=o,raster.fitBounds(view.bounds),console.log(view.bounds),group=new Group;for(var r=0;r<values.amount;r++)for(var n=0;n<values.amount;n++){var i=piece.clone();i.position=new Point(size.width*(n+(r%2?.5:0)),.75*size.height*r),group.addChild(i)}group.fitBounds(view.bounds),group.scale(1)}function onFrame(){if(raster){for(var e=Math.min(count+values.amount,group.children.length),o=count;e>o;o++){piece=group.children[o];var r=piece.children[0],n=raster.getAverageColor(r);if(n){r.fillColor=n;var i=piece.children[1];i.fillColor=n.clone(),i.fillColor.brightness*=1.5;var t=piece.children[2];t.fillColor=n.clone(),t.fillColor.brightness*=.5}}count+=values.amount}}function onResize(){project.activeLayer.position=view.center}function createPiece(){for(var e=new Group,o=new Path.RegularPolygon({center:view.center,sides:6,radius:50,fillColor:"gray",parent:e}),r=0;2>r;r++){for(var n=new Path({closed:!0,selected:!0,parent:e,fillColor:0==r?"white":"black"}),i=0;3>i;i++){var t=(2*r+i)%o.segments.length;n.add(o.segments[t].clone())}n.add(o.bounds.center)}return e.remove(),e}paper.install(window);var canvas=document.getElementById("qbert-canvas");paper.setup(canvas);var values={amount:30},raster,group,piece=createPiece(),count=0,size=piece.bounds.size;